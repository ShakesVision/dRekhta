function renderEbookPage(data) {
    try {
        var p = data.PageId;
        originalHeight = data.PageHeight;
        originalWidth = data.PageWidth;
        if (originalHeight <= 0) {
            originalHeight = 1100;
        }
        if (originalWidth <= 0) {
            originalWidth = 1000;
        }
        var s = 50;
        var m = parseInt(50);

        var h = 50 * parseInt(data.Y);
        var w = 50 * parseInt(data.X);

        if (data.PageHeight > 0) {
            h = data.PageHeight;
        }
        if (data.PageWidth > 0) {
            w = data.PageWidth;
        }
        var c = $("[data-pageid='" + p + "'] canvas").get(0);
        c.height = h;
        c.width = w;

        try {
            if (w > 550) {
                $(".gazal-in1").addClass("hidEbookPanel");
            }
            else {
                $(".gazal-in1").removeClass("hidEbookPanel");
            }
        } catch (e) {

        }

        try {
            $(c).addClass("canvas");
            $(c).addClass("actualmage");
            $(c).addClass(specialClass);
        } catch (e) {
            alert(e);
        }
        var ctx = c.getContext('2d');
        ctx.clearRect(0, 0, w, h);
        for (var i = 0; i < data.Sub.length; i++) {
            ctx.drawImage($("[data-pageid='" + p + "'] .imgKeeper").get(0), data.Sub[i].X1 * (s + 16), data.Sub[i].Y1 * (s + 16), s, s, data.Sub[i].X2 * m, data.Sub[i].Y2 * m, m, m);
        }
        try {
            for (var i = 0; i < 5; i++) {
                if (i < totalPageCount - 1)
                    //$('<img />').attr('src', 'https://ebooksapi.rekhta.org/images/d8e76c98-9254-4fa8-af36-b378987c4e24/' + pages[currentPageIdx + i + 1]);
                    $('<img />').attr('src', 'https://ebooksapi.rekhta.org/images/d8e76c98-9254-4fa8-af36-b378987c4e24/' + pages[currentPageIdx + i + 1] + '');
            }
        } catch (e) {
        }

        // $(c).css("display", "block");
        var c = $("[data-pageid='" + p + "'] .loadingPage").hide();
        HideLoading();
        renderCanvasOnResize();

        /* start water mark */
        if (websiteId == 1) {
            try {
                ctx.fillStyle = '#000000';
                ctx.globalAlpha = 0.1;
                var p = new Path2D("M 259.332031 434.820312 C 247.6875 435.488281 235.921875 441.769531 224.457031 453.238281 C 202.480469 475.214844 198.585938 501.898438 214.941406 518.25 C 222.773438 526.160156 234.046875 529.621094 244.96875 527.46875 C 255.558594 525.53125 268.175781 517.765625 280.492188 505.449219 C 299.710938 486.234375 304.203125 469.921875 295.152344 453.863281 L 291.859375 457.152344 C 298.59375 470.042969 295.058594 483.917969 281.894531 497.085938 C 268.09375 510.886719 253.945312 510.753906 239.453125 496.6875 L 289.140625 447 C 283.214844 439.175781 270.132812 434.148438 259.332031 434.820312 Z M 264.109375 464.648438 L 235.441406 493.3125 C 234.175781 492.261719 233.332031 491.417969 232.699219 490.785156 C 228.507812 486.558594 225.210938 481.527344 223.007812 475.996094 C 219.332031 467.433594 220.511719 462.03125 227.308594 455.238281 C 232.085938 450.460938 237.273438 448.855469 243.410156 450.320312 C 249.84375 452.007812 255.691406 455.433594 260.3125 460.21875 C 261.667969 461.613281 262.9375 463.09375 264.109375 464.648438 Z M 333.484375 380.710938 C 333.417969 368.539062 339.816406 353.28125 348.734375 343.941406 L 345.675781 340.878906 L 311.277344 375.277344 L 314.335938 378.335938 C 322.933594 370.585938 325.585938 369.414062 328.222656 372.050781 C 329.488281 373.316406 329.578125 377.867188 328.507812 382.097656 L 319.824219 417.367188 L 275.25 372.804688 C 263.566406 385.328125 260.804688 388.300781 244.882812 404.648438 L 248.46875 408.234375 L 258.660156 398.042969 L 317.371094 456.75 L 307.710938 466.410156 L 311.191406 469.894531 L 350.6875 430.398438 L 347.207031 426.917969 L 338.289062 435.835938 L 324.363281 421.90625 L 327.152344 409.832031 L 359.101562 415.027344 L 353.261719 420.863281 L 356.742188 424.347656 L 397.09375 383.996094 L 393.613281 380.515625 L 386.074219 388.054688 Z M 455.4375 271.421875 C 449.164062 265.152344 441.652344 260.410156 431.660156 260.382812 C 422.660156 260.304688 414.179688 264.5625 404.839844 273.90625 C 393.160156 285.585938 388.789062 296.707031 390.863281 309.617188 L 364.648438 283.402344 C 352.226562 296.671875 349.675781 299.433594 333.324219 316.207031 L 337.019531 319.6875 L 347.316406 309.386719 L 406.351562 367.777344 L 395.839844 378.289062 L 399.320312 381.769531 L 442 339.089844 L 438.519531 335.609375 L 427.691406 346.4375 C 427.691406 346.4375 407.027344 325.777344 403.421875 322.171875 C 398.710938 317.335938 394.023438 311.203125 393.839844 306.21875 C 393.34375 298.800781 396.023438 291.523438 401.207031 286.195312 C 409.273438 278.128906 419.117188 278.835938 428.714844 288.445312 L 457.199219 316.925781 L 446.582031 327.539062 L 450.066406 331.023438 L 492.75 288.34375 L 489.269531 284.863281 L 479.070312 295.0625 Z M 520.789062 254.390625 C 518.554688 256.796875 515.15625 257.75 511.996094 256.851562 C 509.457031 256.226562 508.398438 255.382812 502.398438 249.367188 L 472.742188 219.71875 L 487.179688 205.28125 L 484.128906 202.230469 L 469.902344 216.453125 L 452.699219 199.460938 L 450.046875 202.117188 C 458.242188 220.082031 456.308594 230.25 441.65625 245.113281 L 444.503906 247.960938 L 452.464844 240 L 482.535156 270.070312 C 485.910156 273.445312 491.082031 276.710938 494.367188 277.230469 C 501.566406 278.6875 509.71875 275.171875 517.679688 267.207031 C 530.972656 253.917969 527.613281 244.78125 526.585938 242.808594 L 523.921875 243.542969 C 524.847656 247.457031 523.660156 251.570312 520.789062 254.390625 Z M 174.359375 508.070312 C 167.699219 514.730469 164.503906 524.289062 168.277344 534.273438 L 158.761719 524.882812 L 156.0625 527.585938 C 158.269531 532.894531 160.378906 538.535156 160.136719 544.816406 C 158.832031 559.40625 148.378906 569.300781 148.378906 569.300781 L 141.480469 576.199219 L 144.355469 579.078125 L 151.257812 572.179688 L 159.988281 580.914062 L 176.457031 597.382812 L 166.078125 607.761719 L 169.550781 611.234375 L 217.765625 563.023438 L 214.304688 559.53125 L 203.914062 569.921875 L 180.367188 546.375 C 177.042969 543.089844 174.339844 539.234375 172.378906 534.992188 C 168.207031 526.726562 169.898438 516.710938 176.546875 510.273438 C 181.527344 505.292969 188.136719 503.359375 192.296875 504.648438 C 188.347656 505.234375 184.675781 507.035156 181.796875 509.804688 C 179.1875 512.191406 177.683594 515.554688 177.636719 519.09375 C 177.589844 522.632812 179.003906 526.03125 181.550781 528.492188 C 186.394531 533.332031 194.421875 532.675781 200.25 526.847656 C 206.390625 520.699219 206.742188 510.460938 200.953125 504.671875 C 195.164062 498.882812 183.046875 499.382812 174.359375 508.070312 Z M 606.402344 167.722656 L 600.734375 173.386719 L 579.855469 152.488281 C 568.039062 140.671875 562.226562 137.410156 553.652344 137.964844 C 545.183594 138.414062 534.261719 144.695312 523.652344 155.3125 C 513.144531 165.820312 503.148438 180.035156 500.585938 188.089844 C 498.660156 194.441406 499.386719 199.203125 502.972656 202.789062 C 507.828125 207.640625 515.34375 206.664062 521.609375 200.402344 C 527.449219 194.5625 528.53125 187.148438 524.203125 182.824219 C 520.304688 178.925781 512.992188 179.898438 507.898438 184.992188 C 506.566406 186.40625 505.453125 188.015625 504.597656 189.765625 C 505.148438 183.519531 510.253906 175.246094 518.746094 166.753906 C 528.304688 157.199219 539.105469 155.054688 545.433594 161.378906 C 551.660156 167.605469 548.554688 178.726562 536.445312 192.945312 C 527.523438 203.558594 521.992188 212.042969 520.921875 216.703125 C 519.445312 222.628906 521.191406 228.894531 525.523438 233.203125 C 534.386719 242.0625 546.777344 239.167969 561.007812 224.941406 C 569.707031 216.242188 575.136719 207.222656 576.007812 200.445312 C 576.320312 197.019531 576.152344 193.5625 575.507812 190.179688 L 583.171875 197.921875 L 609.886719 171.207031 Z M 572.425781 193.46875 C 573.78125 199.285156 571.429688 207.117188 566.863281 211.6875 C 564.1875 214.46875 560.511719 216.058594 556.65625 216.113281 C 552.796875 216.164062 549.082031 214.671875 546.332031 211.964844 C 540.632812 206.265625 540.761719 198.328125 546.835938 186.136719 C 551.625 176.492188 552.160156 174.902344 552.496094 169.292969 C 556.824219 172.984375 558.9375 174.882812 561.679688 177.625 C 568.007812 183.960938 571.273438 188.714844 572.425781 193.472656 Z M 572.425781 193.46875");
                //var p = new Path2D("M11365 13143 c-183 -41 -398 -163 -615 -350 -257 -221 -571 -614 -710 -889 -144 -287 -113 -517 84 -614 59 -29 71 -32 143 -29 109 5 207 53 301 148 147 147 189 319 109 452 -44 74 -112 109 -208 109 -124 0 -231 -54 -318 -161 -40 -49 -44 -51 -38 -24 12 51 103 226 155 298 129 178 290 336 428 420 189 114 388 115 514 1 188 -170 108 -460 -243 -886 -211 -256 -345 -450 -400 -583 -35 -82 -47 -208 -28 -295 30 -141 133 -270 267 -337 66 -32 87 -37 163 -41 59 -3 107 1 151 12 93 23 231 93 330 166 110 81 337 310 423 425 75 102 156 250 186 343 25 77 35 203 23 301 l-9 75 99 -102 c54 -56 101 -102 105 -102 12 0 743 734 743 745 0 6 -23 33 -50 60 l-50 49 -80 -79 -80 -79 -387 385 c-389 386 -472 459 -593 523 -101 53 -159 66 -284 65 -61 -1 -120 -3 -131 -6z m301 -1098 c234 -233 314 -371 314 -539 0 -308 -250 -564 -506 -517 -220 41 -358 235 -325 457 16 109 51 205 146 404 94 198 110 241 126 340 l12 69 41 -31 c23 -18 109 -100 192 -183z M8614 11409 l-42 -41 40 -96 c112 -268 122 -486 32 -689 -36 -83 -121 -205 -219 -316 l-87 -99 38 -39 c21 -21 43 -39 48 -39 6 0 59 48 118 107 l108 108 453 -451 c248 -248 473 -466 500 -483 26 -18 78 -46 115 -64 57 -27 81 -32 164 -35 79 -4 110 0 170 18 151 45 276 129 428 286 172 178 249 324 257 489 3 61 0 103 -9 130 -12 35 -17 40 -43 38 -52 -4 -55 -8 -55 -81 0 -90 -22 -151 -77 -212 -62 -69 -112 -94 -188 -94 -111 -1 -112 0 -653 538 l-492 490 200 201 200 200 -47 48 -48 47 -197 -197 -198 -198 -238 238 -237 237 -41 -41z M7870 9730 c-188 -50 -340 -149 -545 -355 -212 -211 -318 -374 -377 -580 -19 -68 -22 -104 -23 -237 l0 -158 -356 356 c-196 196 -361 355 -365 353 -5 -2 -120 -121 -254 -264 -135 -143 -330 -347 -434 -453 l-189 -192 29 -31 c16 -17 42 -40 57 -51 l29 -21 141 141 142 141 816 -807 817 -807 -146 -148 -147 -147 53 -52 52 -53 597 598 598 597 -53 52 -52 53 -150 -150 -150 -150 -374 375 c-205 206 -398 409 -429 450 -117 158 -149 259 -130 409 21 164 79 292 188 409 183 198 394 224 622 76 35 -22 232 -211 496 -473 l438 -436 -146 -138 c-80 -76 -145 -144 -145 -151 0 -6 23 -34 50 -61 l50 -50 598 598 597 597 -53 52 -52 53 -140 -140 -139 -139 -368 365 c-434 431 -515 494 -718 559 -103 33 -329 38 -435 10z M5195 7040 l-480 -480 45 -45 c24 -25 47 -45 50 -45 4 0 40 28 81 63 94 80 154 121 202 136 32 11 41 10 70 -6 44 -26 60 -78 54 -168 -4 -53 -225 -992 -253 -1075 -3 -9 -218 199 -618 599 -338 338 -618 612 -622 610 -5 -2 -81 -80 -168 -174 -88 -93 -276 -290 -418 -437 -142 -146 -258 -270 -258 -275 0 -5 23 -31 50 -58 l50 -49 140 139 140 140 810 -810 810 -810 -132 -132 -133 -133 55 -55 55 -55 547 547 c302 302 548 553 548 558 0 6 -23 33 -50 60 l-50 49 -123 -122 -122 -122 -189 189 -189 190 34 151 c19 83 37 156 40 161 4 7 684 -95 843 -127 l28 -6 -78 -79 -79 -79 53 -52 52 -53 560 560 c308 308 560 564 560 570 0 5 -21 31 -47 57 l-47 48 -107 -106 -106 -106 -694 97 c-382 53 -709 99 -728 102 l-34 6 6 81 c18 280 160 617 365 869 l55 68 -44 45 c-24 24 -46 44 -49 44 -3 0 -221 -216 -485 -480z M3156 4895 c-299 -57 -585 -230 -877 -531 -268 -276 -436 -580 -495 -890 -25 -136 -16 -369 20 -487 95 -318 338 -556 662 -649 68 -19 102 -23 239 -22 135 0 174 3 245 23 297 79 593 273 921 600 238 239 365 412 455 619 59 137 77 221 77 367 0 144 -16 223 -73 357 -47 113 -42 110 -100 53 l-51 -51 26 -55 c81 -178 87 -393 15 -587 -98 -263 -372 -567 -615 -681 -264 -125 -522 -68 -813 178 l-53 45 692 692 693 693 -65 64 c-115 112 -286 202 -472 248 -111 27 -324 34 -431 14z m-312 -430 c174 -46 337 -145 475 -291 l92 -97 -398 -393 -398 -392 -68 66 c-160 158 -302 422 -323 600 -13 116 39 232 161 357 141 145 290 194 459 150z M1221 3055 c-107 -30 -210 -93 -301 -185 -128 -128 -187 -244 -210 -409 -11 -83 -1 -209 21 -269 7 -18 -33 16 -115 98 l-126 125 -41 -42 -42 -41 41 -109 c77 -207 90 -348 48 -516 -56 -219 -159 -389 -363 -598 l-132 -135 44 -44 45 -44 95 94 95 95 345 -345 345 -345 -142 -142 -143 -143 53 -52 52 -53 670 670 c369 368 670 674 670 680 0 13 -82 95 -94 95 -6 0 -74 -63 -151 -140 l-141 -140 -370 372 c-383 386 -425 435 -498 587 -91 191 -85 388 19 567 15 27 60 81 99 119 104 103 238 165 356 164 l45 0 -65 -22 c-134 -46 -240 -132 -288 -235 -23 -49 -27 -70 -27 -152 0 -82 4 -103 26 -151 35 -73 90 -134 153 -167 45 -24 62 -27 151 -27 94 0 105 2 168 34 176 86 277 261 264 458 -9 148 -83 265 -205 325 -62 31 -74 33 -182 35 -78 2 -132 -2 -169 -12z");
                //var p = new Path2D("M170.4,311c-9.44.51-19,5.58-28.23,14.84-17.76,17.77-20.85,39.39-7.55,52.69,6.52,6.52,15.1,9.1,24.37,7.55,8.58-1.54,18.79-7.81,28.74-17.76,15.53-15.53,19.14-28.75,11.76-41.79l-2.66,2.66c5.49,10.47,2.66,21.71-8,32.35q-16.74,16.72-34.41-.43L194.6,321C189.77,314.61,179.15,310.5,170.4,311Zm3.95,24.2-23.17,23.16a29.43,29.43,0,0,1-2.23-2.05,36.11,36.11,0,0,1-7.9-12c-3-6.95-2.06-11.32,3.43-16.82,3.87-3.86,8.07-5.14,13.05-3.94a29.62,29.62,0,0,1,13.73,8.06A40.31,40.31,0,0,1,174.35,335.22Z M230.38,267.34c-.08-9.87,5.06-22.23,12.27-29.78l-2.49-2.48-27.8,27.8,2.49,2.49c7-6.27,9.1-7.21,11.24-5.07,1,1,1.12,4.72.26,8.16L219.4,297l-36.25-36.25c-9.44,10.13-11.67,12.53-24.54,25.74l2.91,2.92,8.24-8.24L217.51,329l-7.81,7.81,2.83,2.83,31.92-31.92-2.83-2.83-7.21,7.21-11.32-11.33,2.23-9.78,25.91,4.29L246.51,300l2.84,2.83L282,270.17l-2.83-2.83L273,273.43Z M329,179c-5.1-5.1-11.2-9-19.31-9-7.29-.09-14.16,3.34-21.71,10.9-9.44,9.43-12.95,18.44-11.24,28.91L255.4,188.52c-10,10.73-12.1,13-25.31,26.52l3,2.83,8.33-8.32,48,47.49-8.49,8.49,2.83,2.83,34.49-34.49L315.42,231l-8.75,8.75-19.74-19.74c-3.83-3.93-7.65-8.91-7.8-13a21.11,21.11,0,0,1,5.92-16.22c6.52-6.52,14.5-5.92,22.31,1.89l23.16,23.17-8.58,8.58,2.84,2.83,34.49-34.5L356.44,190l-8.24,8.24Z M381.92,165.4a7.06,7.06,0,0,1-7.12,2c-2.06-.52-2.92-1.2-7.81-6.09l-24.11-24.12,11.67-11.66L352.07,123l-11.5,11.5-14-13.82-2.15,2.15c6.69,14.58,5.15,22.82-6.69,34.83l2.31,2.32,6.44-6.44L351,178c2.74,2.75,6.95,5.41,9.61,5.84,5.83,1.2,12.44-1.64,18.87-8.07,10.75-10.74,8-18.16,7.16-19.76l-2.16.59A9.28,9.28,0,0,1,381.92,165.4Z M101.69,370.19c-5.38,5.39-8,13.13-4.87,21.23l-7.73-7.63L86.91,386c1.8,4.31,3.53,8.89,3.34,14-1,11.82-9.46,19.82-9.46,19.82h0l-5.59,5.58,2.34,2.34,5.59-5.58,7.1,7.1.3.31,13.09,13.09L95.23,451l2.83,2.82,39-39L134.21,412l-8.39,8.4-19.15-19.15a32,32,0,0,1-6.51-9.25,17.09,17.09,0,0,1,3.32-20c4-4,9.38-5.58,12.76-4.52a15.4,15.4,0,0,0-8.5,4.15,10.4,10.4,0,0,0-.16,15.15c3.94,3.94,10.45,3.43,15.16-1.28,5-5,5.22-13.27.51-18S108.71,363.17,101.69,370.19Z M451.11,95.35l-4.58,4.57-17-17c-9.61-9.61-14.33-12.27-21.28-11.84s-15.7,5.4-24.28,14-16.56,20-18.62,26.52c-1.55,5.15-.95,9,2,11.93,4,3.94,10,3.17,15.1-1.89,4.72-4.72,5.58-10.73,2.06-14.25-3.17-3.17-9.09-2.4-13.21,1.72a15.49,15.49,0,0,0-2.66,3.86c.43-5.06,4.55-11.75,11.41-18.62,7.72-7.72,16.48-9.44,21.62-4.29s2.58,14.07-7.2,25.57c-7.21,8.58-11.67,15.45-12.53,19.22a14.14,14.14,0,0,0,3.77,13.39c7.21,7.21,17.25,4.89,28.75-6.61,7-7,11.41-14.33,12.1-19.82.26-2.15.17-4-.43-8.32l6.23,6.29,21.59-21.59Zm-27.48,20.79c1.12,4.72-.77,11.06-4.46,14.75a11.72,11.72,0,0,1-16.65.18c-4.63-4.64-4.55-11.07.35-20.94,3.86-7.81,4.29-9.1,4.54-13.64,3.52,3,5.24,4.54,7.47,6.77C420,108.41,422.69,112.27,423.63,116.14Z");
                ctx.fill(p);
                //ctx.fillText('Digitized by Rekhta Foundation', 10, 50);
            } catch (e) {
            }
        }

        /* end water mark */
    }
    catch (e) {

    }
}